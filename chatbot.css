<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pastel Pink Chatbot — Pill Bubbles (Option A)</title>
<style>
  /* ==================
     Pastel Pink Theme
     ================== */
  :root{
    --bg: #fff7fb;
    --panel: #fff;
    --alt: #fff1f7;
    --border: rgba(230, 210, 231, 0.7);
    --primary-100: #ffd7f0;
    --primary-200: #ffb6e6;
    --primary-300: #ff8fd6;
    --accent: #f86fb2;
    --muted: #7a6b78;
    --text: #2a2430;
    --glass: rgba(255,255,255,0.6);
    --shadow: 0 10px 30px rgba(168, 103, 148, 0.12);
    --glass-2: rgba(255,255,255,0.85);
  }

  /* Basic page */
  html,body{height:100%;margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
  body{
    background: linear-gradient(180deg, var(--bg) 0%, #fff7fb 100%);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding:28px;
    display:flex;
    align-items:flex-end;
    justify-content:flex-end;
  }

  /* Chat container */
  .chatbot {
    width:420px;
    max-width:calc(100vw - 24px);
    border-radius:20px;
    background:linear-gradient(180deg, var(--panel), var(--alt));
    box-shadow:var(--shadow);
    overflow:hidden;
    display:flex;
    flex-direction:column;
    border:1px solid var(--border);
    backdrop-filter: blur(8px);
  }

  /* Header */
  .chat-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:14px 16px;
    gap:12px;
    background:linear-gradient(90deg, rgba(255,215,244,0.95), rgba(255,235,245,0.95));
  }
  .head-left{display:flex;align-items:center;gap:12px}
  .avatar{
    width:44px;height:44px;border-radius:50%;
    background:linear-gradient(135deg,var(--primary-200),var(--primary-300));
    display:flex;align-items:center;justify-content:center;color:white;font-weight:700;
    box-shadow:0 6px 18px rgba(248,111,178,0.14);border:3px solid var(--glass-2);
  }
  .title{font-weight:700;font-size:15px}
  .sub{font-size:12px;color:var(--muted);margin-top:2px}

  .header-actions{display:flex;gap:8px;align-items:center}
  .min-btn{
    width:36px;height:36px;border-radius:10px;border:none;background:transparent;
    display:inline-flex;align-items:center;justify-content:center;cursor:pointer;
    font-size:18px;color:var(--accent)
  }

  /* Body */
  .chat-body{
    padding:18px;
    display:flex;
    flex-direction:column;
    gap:14px;
    max-height:520px;
    overflow:auto;
    background:linear-gradient(to bottom, transparent 0%, rgba(255,240,247,0.4) 100%);
  }

  /* Messages - Option A: pill bubbles */
  .msg {
    display:flex;
    gap:12px;
    align-items:flex-end;
    animation:popIn 360ms cubic-bezier(.2,.9,.2,1);
  }

  @keyframes popIn {
    from { opacity:0; transform: translateY(12px) scale(.98); }
    to   { opacity:1; transform: translateY(0) scale(1); }
  }

  .msg .bubble {
    padding:12px 16px;
    border-radius:999px; /* pill */
    max-width:78%;
    line-height:1.4;
    font-size:14px;
    box-shadow:0 6px 18px rgba(0,0,0,0.04);
    word-wrap:break-word;
  }

  /* Bot (left) */
  .msg.bot { justify-content:flex-start; }
  .msg.bot .bubble{
    background:linear-gradient(180deg,var(--glass-2), #fff);
    border:1px solid rgba(248,111,178,0.06);
    color:var(--text);
  }
  .msg.bot .avatar-small{
    width:36px;height:36px;border-radius:50%;flex-shrink:0;
    background:linear-gradient(135deg,var(--primary-200),var(--primary-300));
    display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;border:2px solid var(--glass-2)
  }

  /* User (right) */
  .msg.user{flex-direction:row-reverse;justify-content:flex-end}
  .msg.user .bubble{
    background:linear-gradient(135deg,var(--primary-200),var(--primary-300));
    color:white;
    border:none;
    transform-origin:100% 100%;
    animation:floatIn 820ms cubic-bezier(.2,.9,.2,1);
  }

  @keyframes floatIn {
    0% { transform: translateY(8px) scale(.98); filter:blur(.6px); opacity:0; }
    60% { transform: translateY(-4px) scale(1.02); opacity:1; }
    100% { transform: translateY(0) scale(1); filter:blur(0); }
  }

  /* small timestamp style */
  .time{font-size:11px;color:var(--muted);opacity:.9;margin-top:6px}

  /* typing indicator (pill) */
  .typing {
    display:inline-flex;align-items:center;gap:6px;padding:10px 14px;border-radius:999px;
    background:linear-gradient(90deg, rgba(255,214,235,0.9), rgba(255,243,247,0.9));
    border:1px solid rgba(248,111,178,0.06);
  }
  .dot{width:8px;height:8px;background:var(--accent);border-radius:50%;animation:dotJump .9s infinite}
  .dot:nth-child(2){animation-delay:.12s}
  .dot:nth-child(3){animation-delay:.24s}
  @keyframes dotJump{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}

  /* Footer / Input */
  .chat-footer{
    padding:14px;
    background:linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,250,253,0.8));
    border-top:1px solid rgba(230,210,231,0.6);
    display:flex;gap:12px;align-items:center;
  }

  .input {
    flex:1;padding:12px 14px;border-radius:999px;border:1px solid rgba(0,0,0,0.05);
    background:linear-gradient(180deg, #fff, #fff7fb);outline:none;font-size:14px;
    box-shadow:0 6px 18px rgba(248,111,178,0.06) inset;
  }

  .send {
    width:48px;height:48px;border-radius:999px;border:none;background:linear-gradient(135deg,var(--primary-300),var(--accent));
    color:white;font-size:18px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;
    box-shadow:0 8px 26px rgba(248,111,178,0.18);
    transition: transform .16s ease;
  }
  .send:active{ transform:scale(.96) }

  /* quick actions pills */
  .quick {display:flex;gap:8px;padding:12px;flex-wrap:wrap;background:transparent;border-top:1px solid rgba(230,210,231,0.05)}
  .quick button{padding:8px 12px;border-radius:999px;border:1px solid rgba(122,107,120,0.08);background:var(--primary-100);cursor:pointer;font-size:13px}

  /* minimized */
  .chatbot.min{ width:96px;height:96px;border-radius:999px;padding:8px;overflow:visible;position:fixed;right:28px;bottom:28px; }
  .chatbot.min .chat-body, .chatbot.min .chat-footer, .chatbot.min .chat-header{display:none}

  /* responsive */
  @media (max-width:520px){
    .chatbot{ width:96vw; border-radius:14px; }
  }
</style>
</head>
<body>

<!-- CHATBOT -->
<div id="chatbot" class="chatbot" role="region" aria-label="Chat with Atta's assistant">
  <!-- Header -->
  <div class="chat-header" role="banner">
    <div class="head-left">
      <div class="avatar">A</div>
      <div>
        <div class="title">Pink Assistant</div>
        <div class="sub">Soft & supportive ✨</div>
      </div>
    </div>
    <div class="header-actions">
      <button id="minBtn" class="min-btn" title="Minimize">—</button>
    </div>
  </div>

  <!-- Body -->
  <div id="body" class="chat-body" role="log" aria-live="polite">
    <!-- welcome -->
    <div class="msg bot">
      <div class="avatar-small">P</div>
      <div>
        <div class="bubble">
          Hey Atta — I’m here to help. What should we start with today?
        </div>
        <div class="time" style="text-align:left">Now</div>
      </div>
    </div>
  </div>

  <!-- quick actions -->
  <div class="quick" aria-hidden="false">
    <button data-q="Romantic manifesto">Romantic manifesto</button>
    <button data-q="Reply ideas">Reply ideas</button>
    <button data-q="Resume help">Resume help</button>
  </div>

  <!-- Footer -->
  <div class="chat-footer">
    <input id="input" class="input" placeholder="Type something... (Try: 'help me with Bright')" aria-label="Message input">
    <button id="send" class="send" aria-label="Send message">➤</button>
  </div>
</div>

<script>
/* -----------------
   Small Interaction Layer (Replace mockBotReply with real API)
   ----------------- */
const body = document.getElementById('body');
const input = document.getElementById('input');
const send = document.getElementById('send');
const minBtn = document.getElementById('minBtn');
const chatbot = document.getElementById('chatbot');

// Add quick action handlers
document.querySelectorAll('.quick button').forEach(btn=>{
  btn.addEventListener('click',()=> {
    input.value = btn.dataset.q;
    input.focus();
  });
});

// Minimize toggle
minBtn.addEventListener('click', ()=> {
  chatbot.classList.toggle('min');
  minBtn.textContent = chatbot.classList.contains('min') ? '+' : '—';
});

// Utility: append message
function appendMessage({who='bot', text='', time=''}) {
  const el = document.createElement('div');
  el.className = 'msg ' + (who==='user' ? 'user' : 'bot');
  const avatar = who === 'user' ? '<div class="avatar-small">Y</div>' : '<div class="avatar-small">P</div>';
  el.innerHTML = `
    ${avatar}
    <div>
      <div class="bubble">${escapeHtml(text)}</div>
      <div class="time" aria-hidden="true">${time || new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}</div>
    </div>
  `;
  body.appendChild(el);
  body.scrollTop = body.scrollHeight - body.clientHeight + 60;
}

// Escape helper
function escapeHtml(s){ return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;'); }

// Show typing indicator
function showTyping(){ 
  const tpl = document.createElement('div');
  tpl.className = 'msg bot typing-row';
  tpl.innerHTML = `<div class="avatar-small">P</div><div><div class="typing"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div>`;
  body.appendChild(tpl);
  body.scrollTop = body.scrollHeight;
  return tpl;
}

// Mock bot reply (simulate network)
function mockBotReply(userText){
  const marker = showTyping();
  setTimeout(() => {
    marker.remove();
    // simple echo + helpful suggestion
    const reply = generateReply(userText);
    appendMessage({who:'bot', text:reply});
  }, 900 + Math.random()*800);
}

// Very small generator for demo replies (replace with API)
function generateReply(text){
  text = text.toLowerCase();
  if(text.includes('bright') || text.includes('de')) return "Sounds like there's a lot going on. Want short reply options you can copy-paste?";
  if(text.includes('resume') || text.includes('portfolio')) return "I can review your resume or help write a short summary. Which would you like?";
  if(text.includes('romantic manifesto')) return "Love that. Want a bathroom-wall sized line or a phone-friendly version?";
  return "Got it — tell me one thing you'd like to action next and I'll help you make it happen.";
}

// Send button logic
send.addEventListener('click', ()=> {
  const val = input.value.trim();
  if(!val) return;
  appendMessage({who:'user', text:val});
  input.value='';
  // call bot (mock)
  mockBotReply(val);
});

// Press Enter to send
input.addEventListener('keydown', (e)=>{
  if(e.key === 'Enter') { e.preventDefault(); send.click(); }
});

// helpful automatic scroll when clicking quick actions
body.addEventListener('DOMNodeInserted', ()=> {
  body.scrollTop = body.scrollHeight;
});

/* Accessibility: focus input after load */
window.addEventListener('load', ()=> input.focus());
</script>
</body>
</html>
